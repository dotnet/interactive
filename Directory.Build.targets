<Project>

  <Import Project="Sdk.targets" Sdk="Microsoft.DotNet.Arcade.Sdk" Condition="'$(DisableArcade)' != '1'" />

  <!--
  Arcade normally auto-adds the appropriate test packages, but in non-arcade scenarios they must be re-added.

  Not doing this in each project because duplicate PackageReferences causes an Arcade build failure.
  -->
  <ItemGroup Condition="($(MSBuildProjectName.EndsWith('.Tests')) OR $(MSBuildProjectName.EndsWith('.IntegrationTests'))) AND '$(DisableArcade)' == '1'">
    <PackageReference Include="Microsoft.NET.Test.Sdk" Version="17.2.0" />
    <PackageReference Update="Newtonsoft.Json" Version="$(NewtonsoftJsonVersion)" />
    <PackageReference Include="xunit" Version="2.4.1" />
    <PackageReference Include="xunit.runner.visualstudio" Version="2.4.3" />
  </ItemGroup>

  <!-- Consolidate FSharp package versions -->
  <ItemGroup>
    <!--

    NOTE, when a change updating these version numbers is merged into `main` and the version number ends in
    `-beta.12345.6` or similar, these packages _must_ be uploaded to NuGet.  For Microsoft employees, that can
    be accomplished via these two release definitions (in this order):

    FSharp.Core: https://dev.azure.com/dnceng/internal/_release?view=mine&_a=releases&definitionId=92
    FSharp.Compiler.Service: https://dev.azure.com/dnceng/internal/_release?view=mine&_a=releases&definitionId=98

    -->
    <PackageReference Update="FSharp.Core" Version="6.0.5-beta.22327.2" />
    <PackageReference Update="FSharp.Compiler.Service" Version="41.0.5-preview.22327.2" />
  </ItemGroup>

</Project>
